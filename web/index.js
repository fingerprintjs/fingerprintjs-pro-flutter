var FingerprintJSFlutter=function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var R in t=arguments[n])Object.prototype.hasOwnProperty.call(t,R)&&(e[R]=t[R]);return e},t.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var n={default:"endpoint"},r={default:"tlsEndpoint"},R="Client timeout",o="Network connection error",i="Network request aborted",E="Response cannot be parsed",a="Blocked by CSP",_="The endpoint parameter is not a valid URL";function u(e){for(var t="",n=0;n<e.length;++n)if(n>0){var r=e[n].toLowerCase();r!==e[n]?t+=" ".concat(r):t+=e[n]}else t+=e[n].toUpperCase();return t}var O=u("WrongRegion"),c=u("SubscriptionNotActive"),l=u("UnsupportedVersion"),I=u("InstallationMethodRestricted"),s=u("HostnameRestricted"),f=u("IntegrationFailed"),N=u("NetworkRestricted"),T=u("InvalidProxyIntegrationSecret"),d=u("InvalidProxyIntegrationHeaders"),p=u("ProxyIntegrationSecretEnvironmentMismatch"),v="API key required",A="API key not found",h="API key expired",S="Request cannot be parsed",P="Request failed",D="Request failed to process",y="Too many requests, rate limit exceeded",m="Not available for this origin",w="Not available with restricted header",L=v,g=A,C=h,U="Failed to load the JS script of the agent",M="9319";function b(e,t){var n,r,R,o,i,E=[],u=(n=function(e){var t=function(e,t,n){if(n||2===arguments.length)for(var r,R=0,o=t.length;R<o;R++)!r&&R in t||(r||(r=Array.prototype.slice.call(t,0,R)),r[R]=t[R]);return e.concat(r||Array.prototype.slice.call(t))}([],e,!0);return{current:function(){return t[0]},postpone:function(){var e=t.shift();void 0!==e&&t.push(e)},exclude:function(){t.shift()}}}(e),100,3e3,o=0,r=function(){return Math.random()*Math.min(3e3,100*Math.pow(2,o++))},R=new Set,[n.current(),function(e,t){var o,i=t instanceof Error?t.message:"";if(i===a||i===_)n.exclude(),o=0;else if(i===M)n.exclude();else if(i===U){var E=Date.now()-e.getTime()<50,u=n.current();u&&E&&!R.has(u)&&(R.add(u),o=0),n.postpone()}else n.postpone();var O=n.current();return void 0===O?void 0:[O,null!=o?o:e.getTime()+r()-Date.now()]}]),O=u[0],c=u[1];if(void 0===O)return Promise.reject(new TypeError("The list of script URL patterns is empty"));var l=function(e){var n=new Date,r=function(t){return E.push({url:e,startedAt:n,finishedAt:new Date,error:t})},R=t(e);return R.then((function(){return r()}),r),R.catch((function(e){if(null!=i||(i=e),E.length>=5)throw i;var t=c(n,e);if(!t)throw i;var r,R=t[0],o=t[1];return(r=o,new Promise((function(e){return setTimeout(e,r)}))).then((function(){return l(R)}))}))};return l(O).then((function(e){return[e,E]}))}var K="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js",V=K;function F(e){var n;e.scriptUrlPattern;var r=e.token,R=e.apiKey,o=void 0===R?r:R,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var R=0;for(r=Object.getOwnPropertySymbols(e);R<r.length;R++)t.indexOf(r[R])<0&&Object.prototype.propertyIsEnumerable.call(e,r[R])&&(n[r[R]]=e[r[R]])}return n}(e,["scriptUrlPattern","token","apiKey"]),E=null!==(n=function(e,t){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)?e[t]:void 0}(e,"scriptUrlPattern"))&&void 0!==n?n:K,a=function(){var e=[],t=function(){e.push({time:new Date,state:document.visibilityState})},n=function(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}(document,"visibilitychange",t);return t(),[e,n]}(),_=a[0],u=a[1];return Promise.resolve().then((function(){if(!o||"string"!=typeof o)throw new Error(v);return b(function(e,t){return(Array.isArray(e)?e:[e]).map((function(e){return function(e,t){var n=encodeURIComponent;return e.replace(/<[^<>]+>/g,(function(e){return"<version>"===e?"3":"<apiKey>"===e?n(t):"<loaderVersion>"===e?n("3.11.13"):e}))}(String(e),t)}))}(E,o),G)})).catch((function(e){throw u(),function(e){return e instanceof Error&&e.message===M?new Error(U):e}(e)})).then((function(e){var n=e[0],r=e[1];return u(),n.load(t(t({},i),{ldi:{attempts:r,visibilityStates:_}}))}))}function G(e){return function(e,t,n,r){var R,o=document,i="securitypolicyviolation",E=function(t){var n=new URL(e,location.href),r=t.blockedURI;r!==n.href&&r!==n.protocol.slice(0,-1)&&r!==n.origin||(R=t,a())};o.addEventListener(i,E);var a=function(){return o.removeEventListener(i,E)};return null==r||r.then(a,a),Promise.resolve().then(t).then((function(e){return a(),e}),(function(e){return new Promise((function(e){var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(null)})).then((function(){if(a(),R)return n(R);throw e}))}))}(e,(function(){return function(e){return new Promise((function(t,n){if(function(e){if(URL.prototype)try{return new URL(e,location.href),!1}catch(t){if(t instanceof Error&&"TypeError"===t.name)return!0;throw t}}(e))throw new Error(_);var r=document.createElement("script"),R=function(){var e;return null===(e=r.parentNode)||void 0===e?void 0:e.removeChild(r)},o=document.head||document.getElementsByTagName("head")[0];r.onload=function(){R(),t()},r.onerror=function(){R(),n(new Error(U))},r.async=!0,r.src=e,o.appendChild(r)}))}(e)}),(function(){throw new Error(a)})).then(B)}function B(){var e=window,t="__fpjs_p_l_b",n=e[t];if(function(e,t){var n,r=null===(n=Object.getOwnPropertyDescriptor)||void 0===n?void 0:n.call(Object,e,t);(null==r?void 0:r.configurable)?delete e[t]:r&&!r.writable||(e[t]=void 0)}(e,t),"function"!=typeof(null==n?void 0:n.load))throw new Error(M);return n}var j={load:F,defaultScriptUrlPattern:V,ERROR_SCRIPT_LOAD_FAIL:U,ERROR_API_KEY_EXPIRED:h,ERROR_API_KEY_INVALID:A,ERROR_API_KEY_MISSING:v,ERROR_BAD_REQUEST_FORMAT:S,ERROR_BAD_RESPONSE_FORMAT:E,ERROR_CLIENT_TIMEOUT:R,ERROR_CSP_BLOCK:a,ERROR_FORBIDDEN_ENDPOINT:s,ERROR_FORBIDDEN_HEADER:w,ERROR_FORBIDDEN_ORIGIN:m,ERROR_GENERAL_SERVER_FAILURE:P,ERROR_INSTALLATION_METHOD_RESTRICTED:I,ERROR_INTEGRATION_FAILURE:f,ERROR_INVALID_ENDPOINT:_,ERROR_INVALID_PROXY_INTEGRATION_HEADERS:d,ERROR_INVALID_PROXY_INTEGRATION_SECRET:T,ERROR_NETWORK_ABORT:i,ERROR_NETWORK_CONNECTION:o,ERROR_NETWORK_RESTRICTED:N,ERROR_PROXY_INTEGRATION_SECRET_ENVIRONMENT_MISMATCH:p,ERROR_RATE_LIMIT:y,ERROR_SERVER_TIMEOUT:D,ERROR_SUBSCRIPTION_NOT_ACTIVE:c,ERROR_TOKEN_EXPIRED:C,ERROR_TOKEN_INVALID:g,ERROR_TOKEN_MISSING:L,ERROR_UNSUPPORTED_VERSION:l,ERROR_WRONG_REGION:O,defaultEndpoint:n,defaultTlsEndpoint:r},Y=Object.freeze({__proto__:null,ERROR_API_KEY_EXPIRED:h,ERROR_API_KEY_INVALID:A,ERROR_API_KEY_MISSING:v,ERROR_BAD_REQUEST_FORMAT:S,ERROR_BAD_RESPONSE_FORMAT:E,ERROR_CLIENT_TIMEOUT:R,ERROR_CSP_BLOCK:a,ERROR_FORBIDDEN_ENDPOINT:s,ERROR_FORBIDDEN_HEADER:w,ERROR_FORBIDDEN_ORIGIN:m,ERROR_GENERAL_SERVER_FAILURE:P,ERROR_INSTALLATION_METHOD_RESTRICTED:I,ERROR_INTEGRATION_FAILURE:f,ERROR_INVALID_ENDPOINT:_,ERROR_INVALID_PROXY_INTEGRATION_HEADERS:d,ERROR_INVALID_PROXY_INTEGRATION_SECRET:T,ERROR_NETWORK_ABORT:i,ERROR_NETWORK_CONNECTION:o,ERROR_NETWORK_RESTRICTED:N,ERROR_PROXY_INTEGRATION_SECRET_ENVIRONMENT_MISMATCH:p,ERROR_RATE_LIMIT:y,ERROR_SCRIPT_LOAD_FAIL:U,ERROR_SERVER_TIMEOUT:D,ERROR_SUBSCRIPTION_NOT_ACTIVE:c,ERROR_TOKEN_EXPIRED:C,ERROR_TOKEN_INVALID:g,ERROR_TOKEN_MISSING:L,ERROR_UNSUPPORTED_VERSION:l,ERROR_WRONG_REGION:O,default:j,defaultEndpoint:n,defaultScriptUrlPattern:V,defaultTlsEndpoint:r,load:F});return e.FingerprintJS=Y,e}({});
