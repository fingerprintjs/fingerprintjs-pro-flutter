var FingerprintJSFlutter=function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var n={default:"endpoint"},r={default:"tlsEndpoint"},o="Client timeout",R="Network connection error",i="Network request aborted",E="Response cannot be parsed",a="Blocked by CSP",u="The endpoint parameter is not a valid URL";function c(e){for(var t="",n=0;n<e.length;++n)if(n>0){var r=e[n].toLowerCase();r!==e[n]?t+=" ".concat(r):t+=e[n]}else t+=e[n].toUpperCase();return t}var O=c("WrongRegion"),_=c("SubscriptionNotActive"),l=c("UnsupportedVersion"),s=c("InstallationMethodRestricted"),f=c("HostnameRestricted"),p=c("IntegrationFailed"),d="API key required",I="API key not found",N="API key expired",T="Request cannot be parsed",v="Request failed",h="Request failed to process",A="Too many requests, rate limit exceeded",S="Not available for this origin",P="Not available with restricted header",D=d,y=I,w=N,m="Failed to load the JS script of the agent",L="9319";function g(e,t){var n,r,o,R,i,E=[],c=(n=function(e){var t=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,R=t.length;o<R;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],e,!0);return{current:function(){return t[0]},postpone:function(){var e=t.shift();void 0!==e&&t.push(e)},exclude:function(){t.shift()}}}(e),100,3e3,R=0,r=function(){return Math.random()*Math.min(3e3,100*Math.pow(2,R++))},o=new Set,[n.current(),function(e,t){var R,i=t instanceof Error?t.message:"";if(i===a||i===u)n.exclude(),R=0;else if(i===L)n.exclude();else if(i===m){var E=Date.now()-e.getTime()<50,c=n.current();c&&E&&!o.has(c)&&(o.add(c),R=0),n.postpone()}else n.postpone();var O=n.current();return void 0===O?void 0:[O,null!=R?R:e.getTime()+r()-Date.now()]}]),O=c[0],_=c[1];if(void 0===O)return Promise.reject(new TypeError("The list of script URL patterns is empty"));var l=function(e){var n=new Date,r=function(t){return E.push({url:e,startedAt:n,finishedAt:new Date,error:t})},o=t(e);return o.then((function(){return r()}),r),o.catch((function(e){if(null!=i||(i=e),E.length>=5)throw i;var t=_(n,e);if(!t)throw i;var r,o=t[0],R=t[1];return(r=R,new Promise((function(e){return setTimeout(e,r)}))).then((function(){return l(o)}))}))};return l(O).then((function(e){return[e,E]}))}var U="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js",b=U;function C(e){var n;e.scriptUrlPattern;var r=e.token,o=e.apiKey,R=void 0===o?r:o,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["scriptUrlPattern","token","apiKey"]),E=null!==(n=function(e,t){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)?e[t]:void 0}(e,"scriptUrlPattern"))&&void 0!==n?n:U,a=function(){var e=[],t=function(){e.push({time:new Date,state:document.visibilityState})},n=function(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}(document,"visibilitychange",t);return t(),[e,n]}(),u=a[0],c=a[1];return Promise.resolve().then((function(){if(!R||"string"!=typeof R)throw new Error(d);return g(function(e,t){return(Array.isArray(e)?e:[e]).map((function(e){return function(e,t){var n=encodeURIComponent;return e.replace(/<[^<>]+>/g,(function(e){return"<version>"===e?"3":"<apiKey>"===e?n(t):"<loaderVersion>"===e?n("3.11.3"):e}))}(String(e),t)}))}(E,R),K)})).catch((function(e){throw c(),function(e){return e instanceof Error&&e.message===L?new Error(m):e}(e)})).then((function(e){var n=e[0],r=e[1];return c(),n.load(t(t({},i),{ldi:{attempts:r,visibilityStates:u}}))}))}function K(e){return function(e,t,n,r){var o,R=document,i="securitypolicyviolation",E=function(t){var n=new URL(e,location.href),r=t.blockedURI;r!==n.href&&r!==n.protocol.slice(0,-1)&&r!==n.origin||(o=t,a())};R.addEventListener(i,E);var a=function(){return R.removeEventListener(i,E)};return null==r||r.then(a,a),Promise.resolve().then(t).then((function(e){return a(),e}),(function(e){return new Promise((function(e){var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(null)})).then((function(){if(a(),o)return n(o);throw e}))}))}(e,(function(){return function(e){return new Promise((function(t,n){if(function(e){if(URL.prototype)try{return new URL(e,location.href),!1}catch(t){if(t instanceof Error&&"TypeError"===t.name)return!0;throw t}}(e))throw new Error(u);var r=document.createElement("script"),o=function(){var e;return null===(e=r.parentNode)||void 0===e?void 0:e.removeChild(r)},R=document.head||document.getElementsByTagName("head")[0];r.onload=function(){o(),t()},r.onerror=function(){o(),n(new Error(m))},r.async=!0,r.src=e,R.appendChild(r)}))}(e)}),(function(){throw new Error(a)})).then(M)}function M(){var e=window,t="__fpjs_p_l_b",n=e[t];if(function(e,t){var n,r=null===(n=Object.getOwnPropertyDescriptor)||void 0===n?void 0:n.call(Object,e,t);(null==r?void 0:r.configurable)?delete e[t]:r&&!r.writable||(e[t]=void 0)}(e,t),"function"!=typeof(null==n?void 0:n.load))throw new Error(L);return n}var F={load:C,defaultScriptUrlPattern:b,ERROR_SCRIPT_LOAD_FAIL:m,ERROR_API_KEY_EXPIRED:N,ERROR_API_KEY_INVALID:I,ERROR_API_KEY_MISSING:d,ERROR_BAD_REQUEST_FORMAT:T,ERROR_BAD_RESPONSE_FORMAT:E,ERROR_CLIENT_TIMEOUT:o,ERROR_CSP_BLOCK:a,ERROR_FORBIDDEN_ENDPOINT:f,ERROR_FORBIDDEN_HEADER:P,ERROR_FORBIDDEN_ORIGIN:S,ERROR_GENERAL_SERVER_FAILURE:v,ERROR_INSTALLATION_METHOD_RESTRICTED:s,ERROR_INTEGRATION_FAILURE:p,ERROR_INVALID_ENDPOINT:u,ERROR_NETWORK_ABORT:i,ERROR_NETWORK_CONNECTION:R,ERROR_RATE_LIMIT:A,ERROR_SERVER_TIMEOUT:h,ERROR_SUBSCRIPTION_NOT_ACTIVE:_,ERROR_TOKEN_EXPIRED:w,ERROR_TOKEN_INVALID:y,ERROR_TOKEN_MISSING:D,ERROR_UNSUPPORTED_VERSION:l,ERROR_WRONG_REGION:O,defaultEndpoint:n,defaultTlsEndpoint:r},B=Object.freeze({__proto__:null,ERROR_API_KEY_EXPIRED:N,ERROR_API_KEY_INVALID:I,ERROR_API_KEY_MISSING:d,ERROR_BAD_REQUEST_FORMAT:T,ERROR_BAD_RESPONSE_FORMAT:E,ERROR_CLIENT_TIMEOUT:o,ERROR_CSP_BLOCK:a,ERROR_FORBIDDEN_ENDPOINT:f,ERROR_FORBIDDEN_HEADER:P,ERROR_FORBIDDEN_ORIGIN:S,ERROR_GENERAL_SERVER_FAILURE:v,ERROR_INSTALLATION_METHOD_RESTRICTED:s,ERROR_INTEGRATION_FAILURE:p,ERROR_INVALID_ENDPOINT:u,ERROR_NETWORK_ABORT:i,ERROR_NETWORK_CONNECTION:R,ERROR_RATE_LIMIT:A,ERROR_SCRIPT_LOAD_FAIL:m,ERROR_SERVER_TIMEOUT:h,ERROR_SUBSCRIPTION_NOT_ACTIVE:_,ERROR_TOKEN_EXPIRED:w,ERROR_TOKEN_INVALID:y,ERROR_TOKEN_MISSING:D,ERROR_UNSUPPORTED_VERSION:l,ERROR_WRONG_REGION:O,default:F,defaultEndpoint:n,defaultScriptUrlPattern:b,defaultTlsEndpoint:r,load:C});return e.FingerprintJS=B,e}({});
